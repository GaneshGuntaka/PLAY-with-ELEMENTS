<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Periodic Table - PLAY with ELEMENTS</title>

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap');

    :root{
      --bg: #fff8fb;
      --card: #fff1f6;
      --muted: #7a6b73;
      --accent: #ff7da6;
      --accent-2: #ffd7e1;
      --glass: rgba(255,255,255,0.7);
      --shadow: 0 6px 18px rgba(40,20,30,0.08);
    }

    html,body{height:100%; margin:0; font-family:'Poppins',sans-serif; background: linear-gradient(180deg,var(--bg),#fff); color:#2c2c2c;}
    .wrap{
      max-width:1200px;
      margin:28px auto;
      padding:22px;
    }

    header.top {
      display:flex;
      align-items:center;
      gap:18px;
      margin-bottom:18px;
    }
    header.top h1{
      margin:0;
      font-size:1.6rem;
      font-weight:700;
    }
    header.top .sub{
      color:var(--muted);
      font-weight:500;
      font-size:0.95rem;
    }

    /* Main periodic table area: 18 columns, rows for periods 1-7 */
    .ptable {
      display: grid;
      grid-template-columns: repeat(18, 1fr);
      grid-auto-rows: 92px;
      gap: 10px;
      padding: 18px;
      background: linear-gradient(180deg, rgba(255,245,249,0.8), rgba(255,250,250,0.6));
      border-radius: 16px;
      box-shadow: var(--shadow);
    }

    /* Lanthanide & actinide rows below the main table */
    .subrows {
      margin-top: 14px;
      display: grid;
      grid-template-columns: repeat(18, 1fr);
      gap:10px;
    }

    /* element card */
    .elem {
      background: var(--card);
      border-radius: 12px;
      border: 1px solid rgba(200,180,190,0.7);
      display:flex;
      flex-direction:column;
      justify-content:space-between;
      padding:10px;
      box-sizing:border-box;
      transition: transform 150ms ease, box-shadow 150ms ease;
      cursor: pointer;
      user-select:none;
      box-shadow: 0 3px 8px rgba(40,20,30,0.04);
      font-size:0.9rem;
    }

    .elem .top { display:flex; justify-content:space-between; align-items:center; font-weight:600; color:#4a3d44;}
    .elem .big { font-size:1.2rem; font-weight:700; text-align:center; color:#2b2b2b; margin-top:2px; }
    .elem .name { font-size:0.72rem; color:var(--muted); text-align:center; margin-top:4px; }

    .elem:hover { transform: translateY(-6px); box-shadow: 0 12px 22px rgba(40,20,30,0.09); }

    /* cute category colors */
    .alkali { background: linear-gradient(180deg,#fff0f9,#ffdfe9); }       /* group 1 */
    .alkaline { background: linear-gradient(180deg,#fff6ef,#fff1e6); }     /* group 2 */
    .lanth { background: linear-gradient(180deg,#fff6fb,#fbeef9); }        /* lanthanide */
    .actin { background: linear-gradient(180deg,#fffaf6,#fef3ea); }        /* actinide */
    .transition { background: linear-gradient(180deg,#fff1f6,#ffeaf0); }   /* d-block */
    .post { background: linear-gradient(180deg,#fff8f2,#fff2ed); }         /* post-transition */
    .metalloid { background: linear-gradient(180deg,#f9f7ff,#f0ecff); }    /* metalloids */
    .nonmetal { background: linear-gradient(180deg,#f7fff9,#f3fff6); }     /* nonmetals */
    .halogen { background: linear-gradient(180deg,#fff6fb,#fbe6f4); }      /* group 17 */
    .noble { background: linear-gradient(180deg,#f6faff,#eef6ff); }        /* group18 */

    /* selected glow */
    .elem.selected {
      outline: 3px solid rgba(255,125,160,0.45);
      box-shadow: 0 12px 30px rgba(255,125,160,0.18);
      transform: translateY(-3px) scale(1.02);
    }

    /* controls */
    .controls {
      display:flex;
      justify-content:space-between;
      align-items:center;
      margin-top:16px;
      gap:12px;
    }
    .selected-list {
      color:var(--muted);
      font-size:0.95rem;
    }

    .btn {
      background: linear-gradient(180deg,var(--accent), #ff5c8c);
      color:white;
      border:none;
      padding:12px 18px;
      font-weight:600;
      border-radius:12px;
      cursor:pointer;
      box-shadow: 0 6px 18px rgba(255,125,160,0.16);
    }
    .btn:disabled {
      background: var(--accent-2);
      color:#a07a86;
      cursor:not-allowed;
      box-shadow:none;
    }

    .legend {
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      margin:12px 0;
    }
    .legend .item { background:var(--glass); padding:6px 10px; border-radius:8px; font-size:0.85rem; color:var(--muted); }

    /* responsive */
    @media (max-width:900px){
      .ptable { grid-auto-rows:84px; gap:8px;}
      .elem .big { font-size:1.05rem; }
    }
    @media (max-width:600px){
      .ptable { grid-template-columns: repeat(9,1fr); }
      .subrows { grid-template-columns: repeat(9,1fr); }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <header class="top">
      <div>
        <h1>PLAY with ELEMENTS</h1>
        <div class="sub">Cute theme • Classic layout • Click elements to select (2+ to play)</div>
      </div>
      <div style="margin-left:auto; display:flex; gap:10px; align-items:center;">
        <button class="btn" id="homeBtn" style="background:transparent;color:var(--muted); box-shadow:none; font-weight:600; border-radius:10px; padding:8px 12px;" onclick="location.href='index.html'">Home</button>
        <button class="btn" id="logout" style="background:transparent;color:var(--muted); box-shadow:none; border:1px solid rgba(200,180,190,0.6);">Logout</button>
      </div>
    </header>

    <main>
      <!-- Periods 1-7 grid -->
      <div class="ptable" id="ptable" aria-label="Periodic Table"></div>

      <!-- Lanthanide & Actinide labels and grids -->
      <div style="margin-top:12px; display:flex; align-items:center; gap:12px;">
        <div style="font-weight:600; color:var(--muted);">Lanthanides</div>
        <div style="flex:1; height:1px; background:linear-gradient(90deg,#ffdfe9, transparent)"></div>
      </div>
      <div class="subrows" id="lanthRow"></div>

      <div style="margin-top:12px; display:flex; align-items:center; gap:12px;">
        <div style="font-weight:600; color:var(--muted);">Actinides</div>
        <div style="flex:1; height:1px; background:linear-gradient(90deg,#fff3e6, transparent)"></div>
      </div>
      <div class="subrows" id="actRow"></div>

      <div class="legend" style="margin-top:14px;">
        <div class="item">Alkali</div>
        <div class="item">Alkaline</div>
        <div class="item">Transition</div>
        <div class="item">Post-transition</div>
        <div class="item">Metalloid</div>
        <div class="item">Nonmetal</div>
        <div class="item">Halogen</div>
        <div class="item">Noble Gas</div>
        <div class="item">Lanthanide</div>
        <div class="item">Actinide</div>
      </div>

      <div class="controls">
        <div class="selected-list" id="selList">Selected: none</div>
        <div style="margin-left:auto;">
          <button class="btn" id="clearBtn" style="background:transparent;color:var(--muted); box-shadow:none; border:1px solid rgba(200,180,190,0.6); margin-right:10px;" onclick="clearSelection()">Clear</button>
          <button class="btn" id="nextBtn" disabled onclick="goNext()">Next</button>
        </div>
      </div>

    </main>
  </div>

  <script>
    // Full 118 elements with group and period for classic layout.
    // For lanthanides and actinides we place them in separate rows (period 8 and 9)
    // Each element: [Z, symbol, name, category, group, period]
    // category classes map to CSS classes above.

    const elements = [
      // Period 1
      [1,'H','Hydrogen','nonmetal',1,1],
      [2,'He','Helium','noble',18,1],
      // Period 2
      [3,'Li','Lithium','alkali',1,2],
      [4,'Be','Beryllium','alkaline',2,2],
      [5,'B','Boron','metalloid',13,2],
      [6,'C','Carbon','nonmetal',14,2],
      [7,'N','Nitrogen','nonmetal',15,2],
      [8,'O','Oxygen','nonmetal',16,2],
      [9,'F','Fluorine','halogen',17,2],
      [10,'Ne','Neon','noble',18,2],
      // Period 3
      [11,'Na','Sodium','alkali',1,3],
      [12,'Mg','Magnesium','alkaline',2,3],
      [13,'Al','Aluminium','post',13,3],
      [14,'Si','Silicon','metalloid',14,3],
      [15,'P','Phosphorus','nonmetal',15,3],
      [16,'S','Sulfur','nonmetal',16,3],
      [17,'Cl','Chlorine','halogen',17,3],
      [18,'Ar','Argon','noble',18,3],
      // Period 4
      [19,'K','Potassium','alkali',1,4],
      [20,'Ca','Calcium','alkaline',2,4],
      [21,'Sc','Scandium','transition',3,4],
      [22,'Ti','Titanium','transition',4,4],
      [23,'V','Vanadium','transition',5,4],
      [24,'Cr','Chromium','transition',6,4],
      [25,'Mn','Manganese','transition',7,4],
      [26,'Fe','Iron','transition',8,4],
      [27,'Co','Cobalt','transition',9,4],
      [28,'Ni','Nickel','transition',10,4],
      [29,'Cu','Copper','transition',11,4],
      [30,'Zn','Zinc','transition',12,4],
      [31,'Ga','Gallium','post',13,4],
      [32,'Ge','Germanium','metalloid',14,4],
      [33,'As','Arsenic','metalloid',15,4],
      [34,'Se','Selenium','nonmetal',16,4],
      [35,'Br','Bromine','halogen',17,4],
      [36,'Kr','Krypton','noble',18,4],
      // Period 5
      [37,'Rb','Rubidium','alkali',1,5],
      [38,'Sr','Strontium','alkaline',2,5],
      [39,'Y','Yttrium','transition',3,5],
      [40,'Zr','Zirconium','transition',4,5],
      [41,'Nb','Niobium','transition',5,5],
      [42,'Mo','Molybdenum','transition',6,5],
      [43,'Tc','Technetium','transition',7,5],
      [44,'Ru','Ruthenium','transition',8,5],
      [45,'Rh','Rhodium','transition',9,5],
      [46,'Pd','Palladium','transition',10,5],
      [47,'Ag','Silver','transition',11,5],
      [48,'Cd','Cadmium','transition',12,5],
      [49,'In','Indium','post',13,5],
      [50,'Sn','Tin','post',14,5],
      [51,'Sb','Antimony','metalloid',15,5],
      [52,'Te','Tellurium','metalloid',16,5],
      [53,'I','Iodine','halogen',17,5],
      [54,'Xe','Xenon','noble',18,5],
      // Period 6 (note: lanthanides set separate)
      [55,'Cs','Cesium','alkali',1,6],
      [56,'Ba','Barium','alkaline',2,6],
      // placeholder spot for group 3 in row 6 is lanthanide marker
      [72,'Hf','Hafnium','transition',4,6],
      [73,'Ta','Tantalum','transition',5,6],
      [74,'W','Tungsten','transition',6,6],
      [75,'Re','Rhenium','transition',7,6],
      [76,'Os','Osmium','transition',8,6],
      [77,'Ir','Iridium','transition',9,6],
      [78,'Pt','Platinum','transition',10,6],
      [79,'Au','Gold','transition',11,6],
      [80,'Hg','Mercury','transition',12,6],
      [81,'Tl','Thallium','post',13,6],
      [82,'Pb','Lead','post',14,6],
      [83,'Bi','Bismuth','post',15,6],
      [84,'Po','Polonium','metalloid',16,6],
      [85,'At','Astatine','halogen',17,6],
      [86,'Rn','Radon','noble',18,6],
      // Period 7 (note: actinides set separate)
      [87,'Fr','Francium','alkali',1,7],
      [88,'Ra','Radium','alkaline',2,7],
      // placeholder spot for group 3 in row 7 is actinide marker
      [104,'Rf','Rutherfordium','transition',4,7],
      [105,'Db','Dubnium','transition',5,7],
      [106,'Sg','Seaborgium','transition',6,7],
      [107,'Bh','Bohrium','transition',7,7],
      [108,'Hs','Hassium','transition',8,7],
      [109,'Mt','Meitnerium','transition',9,7],
      [110,'Ds','Darmstadtium','transition',10,7],
      [111,'Rg','Roentgenium','transition',11,7],
      [112,'Cn','Copernicium','transition',12,7],
      [113,'Nh','Nihonium','post',13,7],
      [114,'Fl','Flerovium','post',14,7],
      [115,'Mc','Moscovium','post',15,7],
      [116,'Lv','Livermorium','post',16,7],
      [117,'Ts','Tennessine','halogen',17,7],
      [118,'Og','Oganesson','noble',18,7]
    ];

    // Lanthanides (57-71) placed in the lanthRow; columns 4..17
    const lanthanides = [
      [57,'La','Lanthanum','lanth'],
      [58,'Ce','Cerium','lanth'],
      [59,'Pr','Praseodymium','lanth'],
      [60,'Nd','Neodymium','lanth'],
      [61,'Pm','Promethium','lanth'],
      [62,'Sm','Samarium','lanth'],
      [63,'Eu','Europium','lanth'],
      [64,'Gd','Gadolinium','lanth'],
      [65,'Tb','Terbium','lanth'],
      [66,'Dy','Dysprosium','lanth'],
      [67,'Ho','Holmium','lanth'],
      [68,'Er','Erbium','lanth'],
      [69,'Tm','Thulium','lanth'],
      [70,'Yb','Ytterbium','lanth'],
      [71,'Lu','Lutetium','lanth']
    ];

    // Actinides (89-103) placed in the actRow; columns 4..17
    const actinides = [
      [89,'Ac','Actinium','actin'],
      [90,'Th','Thorium','actin'],
      [91,'Pa','Protactinium','actin'],
      [92,'U','Uranium','actin'],
      [93,'Np','Neptunium','actin'],
      [94,'Pu','Plutonium','actin'],
      [95,'Am','Americium','actin'],
      [96,'Cm','Curium','actin'],
      [97,'Bk','Berkelium','actin'],
      [98,'Cf','Californium','actin'],
      [99,'Es','Einsteinium','actin'],
      [100,'Fm','Fermium','actin'],
      [101,'Md','Mendelevium','actin'],
      [102,'No','Nobelium','actin'],
      [103,'Lr','Lawrencium','actin']
    ];

    const table = document.getElementById('ptable');
    const lanthRow = document.getElementById('lanthRow');
    const actRow = document.getElementById('actRow');
    const selected = new Set();

    // Create empty grid by adding invisible placeholders for all 7x18 cells to preserve layout (optional)
    // We'll instead create cards only for defined elements with explicit grid positions.

    function createCard(obj) {
      const [Z, sym, name, cat, group, period] = obj;
      const div = document.createElement('div');
      div.className = 'elem ' + (cat || 'post');
      div.dataset.sym = sym;
      div.dataset.name = name;
      div.dataset.num = Z;
      div.innerHTML = `
        <div class="top">
          <div style="font-size:0.9rem">${Z}</div>
          <div style="font-size:0.8rem;opacity:0.85">${group || ''}</div>
        </div>
        <div class="big">${sym}</div>
        <div class="name">${name}</div>
      `;
      // if group & period exist, place it in the main grid
      if(group && period){
        div.style.gridColumn = group;
        div.style.gridRow = period;
      } else {
        // fallback to auto placement
      }
      // click handler
      div.addEventListener('click', () => toggleSelect(div));
      return div;
    }

    // Build main table by placing each element at its group/period
    elements.forEach(el => {
      const card = createCard(el);
      table.appendChild(card);
    });

    // For main table we also need to add blank placeholders at positions where lanthanides/actinides would be (group 3 for period6 & 7)
    // We'll create light placeholders to preserve visual gap
    const createPlaceholder = (col, row) => {
      const ph = document.createElement('div');
      ph.style.gridColumn = col;
      ph.style.gridRow = row;
      ph.style.background = 'transparent';
      ph.style.border = 'none';
      table.appendChild(ph);
    };
    // placeholders at group 3 for period 6 and 7 (these visually indicate lanthanide/actinide)
    createPlaceholder(3,6);
    createPlaceholder(3,7);

    // Build lanthanide row: we will place them starting at grid column 4 to 18? We'll use columns 4..18-1 = 4..17 (15 items)
    // For lanthRow and actRow, we create empty cells for columns 1..18 and place elements in columns 4..18 as needed
    for(let c=1;c<=18;c++){
      const cellL = document.createElement('div');
      cellL.style.minHeight = '92px';
      cellL.style.background = 'transparent';
      cellL.style.border = 'none';
      // to visually align, make them part of grid
      lanthRow.appendChild(cellL);
    }
    for(let c=1;c<=18;c++){
      const cellA = document.createElement('div');
      cellA.style.minHeight = '92px';
      cellA.style.background = 'transparent';
      cellA.style.border = 'none';
      actRow.appendChild(cellA);
    }

    // Now replace columns 4..18-1 (4..18? We need 15 spots) with lanthanide/actinide cards
    // We'll put lanthanides in columns 4..18-? There are 15 lanthanides, so columns 4..18 (4..18 inclusive) gives 15 columns (4..18 => 15).
    // But our subrows have 18 cells appended; we'll replace innerHTML of those positions with cards.
    // Compute start column index = 4, places = 15 (4..18)
    const lanthStart = 4;
    lanthanides.forEach((el, idx) => {
      const colIndex = lanthStart + idx; // 4 + idx
      // get the child at position colIndex-1 (0-based)
      const cell = lanthRow.children[colIndex-1];
      const card = document.createElement('div');
      card.className = 'elem lanth';
      card.dataset.sym = el[1];
      card.dataset.name = el[2];
      card.dataset.num = el[0];
      card.innerHTML = `
        <div class="top"><div style="font-size:0.9rem">${el[0]}</div><div style="font-size:0.8rem;opacity:0.85"></div></div>
        <div class="big">${el[1]}</div>
        <div class="name">${el[2]}</div>
      `;
      card.addEventListener('click', () => toggleSelect(card));
      // replace
      cell.innerHTML = '';
      cell.appendChild(card);
    });

    const actStart = 4;
    actinides.forEach((el, idx) => {
      const colIndex = actStart + idx;
      const cell = actRow.children[colIndex-1];
      const card = document.createElement('div');
      card.className = 'elem actin';
      card.dataset.sym = el[1];
      card.dataset.name = el[2];
      card.dataset.num = el[0];
      card.innerHTML = `
        <div class="top"><div style="font-size:0.9rem">${el[0]}</div><div style="font-size:0.8rem;opacity:0.85"></div></div>
        <div class="big">${el[1]}</div>
        <div class="name">${el[2]}</div>
      `;
      card.addEventListener('click', () => toggleSelect(card));
      cell.innerHTML = '';
      cell.appendChild(card);
    });

    // selection handling
    function toggleSelect(card){
      const sym = card.dataset.sym;
      if(selected.has(sym)){
        selected.delete(sym);
        card.classList.remove('selected');
      } else {
        selected.add(sym);
        card.classList.add('selected');
      }
      updateUI();
    }

    function updateUI(){
      const list = Array.from(selected).join(', ') || 'none';
      document.getElementById('selList').textContent = 'Selected: ' + list;
      document.getElementById('nextBtn').disabled = selected.size < 2;
    }

    function clearSelection(){
      selected.clear();
      document.querySelectorAll('.elem.selected').forEach(e=>e.classList.remove('selected'));
      updateUI();
    }

    function goNext(){
      if(selected.size < 2) return;
      const arr = Array.from(selected);
      localStorage.setItem('selectedElements', JSON.stringify(arr));
      // go to reaction page (to be implemented)
      window.location.href = 'reaction.html';
    }

    // expose clear button and next button handlers if needed
    document.getElementById('clearBtn').addEventListener('click', clearSelection);

    // initial update
    updateUI();

  </script>
</body>
</html>
